cubes:
  - name: orders
    sql: SELECT * FROM orders
    joins:
      - name: users
        sql: "{CUBE}.order_id = {orders}.id"
        relationship: many_to_one
    measures:
      - name: count
        sql: id
        type: count
        drill_members:
          - status
          - users.city
    dimensions:
      - name: id
        sql: id
        type: number
        primary_key: true

      - name: number
        sql: number
        type: number

      - name: status
        sql: status
        type: string

      - name: city
        sql: city
        type: string
    hierarchies:
      - name: orders_hierarchy
        levels:
          - "{CUBE}.status"
          # - status
          - users.city
          # - orders.city
          # - "{CUBE}.city"
      # - name: some_other_hierarchy
      #   title: Some other hierarchy
      #   levels:
      #     - users.state
      #     - users.city
  #
  - name: users
    sql: SELECT * FROM users
    # hierarchies:
    #   - name: users_hierarchy
    #     levels:
    #       - users.age
    #       - city
    dimensions:
      - name: age
        sql: age
        type: number
      - name: state
        sql: state
        type: string
      - name: city
        sql: city
        type: string

views:
  # - name: orders_view
  #   cubes:
  #     - join_path: orders
  #       includes: "*"
  #     - join_path: users
  #       includes:
  #         - age
  #         - state
  # - name: test_view
  #   cubes:
  #     - join_path: orders
  #       includes: "*"
  #     - join_path: users
  #       includes:
  #         - age
  #         - state
  #         - users_hierarchy
  - name: empty_view
    cubes:
      - join_path: orders
        includes:
          - count
          - orders_hierarchy
          - name: status
            alias: hui_status
      - join_path: users
        includes: "*"


