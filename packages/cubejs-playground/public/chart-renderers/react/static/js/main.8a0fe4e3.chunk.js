(this["webpackJsonpreact-charts"]=this["webpackJsonpreact-charts"]||[]).push([[0],{570:function(t,e,n){},637:function(t,e,n){},775:function(t,e,n){"use strict";n.r(e);var r={};n.r(r),n.d(r,"getChartComponent",(function(){return b})),n.d(r,"getCommon",(function(){return g})),n.d(r,"getImports",(function(){return y}));var a={};n.r(a),n.d(a,"getChartComponent",(function(){return x})),n.d(a,"getCommon",(function(){return j})),n.d(a,"getImports",(function(){return v}));var i={};n.r(i),n.d(i,"getChartComponent",(function(){return O})),n.d(i,"getCommon",(function(){return k})),n.d(i,"getImports",(function(){return A}));var s={};n.r(s),n.d(s,"getChartComponent",(function(){return R})),n.d(s,"getCommon",(function(){return F})),n.d(s,"getImports",(function(){return P}));var o=n(0),l=n.n(o),c=n(65),u=n.n(c),d=(n(570),n(37)),p=n(56),m=n(275),f=(n(636),n(637),n(488)),h=["import React from 'react';","import { Chart, Axis, Tooltip, Geom, PieChart } from 'bizcharts';","import { Row, Col, Statistic, Table } from 'antd';"];function b(t){return"line"===t?'return (\n  <Chart\n    scale={{\n      x: {\n        tickCount: 8,\n      },\n    }}\n    autoFit\n    height={400}\n    data={stackedChartData(resultSet)}\n    forceFit\n  >\n    <Axis name="x" />\n    <Axis name="measure" />\n    <Tooltip\n      crosshairs={{\n        type: \'y\',\n      }}\n    />\n    <Geom type="line" position="x*measure" size={2} color="color" />\n  </Chart>\n);\n':"x"===t||"tickCount"===t||"type"===t?"":"bar"===t?'return (\n  <Chart\n    scale={{\n      x: {\n        tickCount: 8,\n      },\n    }}\n    autoFit\n    height={400}\n    data={stackedChartData(resultSet)}\n    forceFit\n  >\n    <Axis name="x" />\n    <Axis name="measure" />\n    <Tooltip />\n    <Geom type="interval" position="x*measure" color="color" />\n  </Chart>\n);\n':"x"===t||"tickCount"===t?"":"area"===t?'return (\n  <Chart\n    scale={{\n      x: {\n        tickCount: 8,\n      },\n    }}\n    autoFit\n    height={400}\n    data={stackedChartData(resultSet)}\n    forceFit\n  >\n    <Axis name="x" />\n    <Axis name="measure" />\n    <Tooltip\n      crosshairs={{\n        type: \'y\',\n      }}\n    />\n    <Geom\n      type="area"\n      adjust="stack"\n      position="x*measure"\n      size={2}\n      color="color"\n    />\n  </Chart>\n);\n':"x"===t||"tickCount"===t||"type"===t?"":"pie"===t?"return (\n  <PieChart\n    data={resultSet.chartPivot()}\n    radius={0.8}\n    angleField={resultSet.series()[0].key}\n    colorField=\"x\"\n    label={{\n      visible: true,\n      offset: 20,\n    }}\n    legend={{\n      position: 'bottom',\n    }}\n  />\n);\n":"visible"===t||"offset"===t||"position"===t?"":"number"===t?'return (\n  <Row\n    type="flex"\n    justify="center"\n    align="middle"\n    style={{\n      height: \'100%\',\n    }}\n  >\n    <Col>\n      {resultSet.seriesNames().map((s) => (\n        <Statistic value={resultSet.totalRow()[s.key]} />\n      ))}\n    </Col>\n  </Row>\n);\n':"height"===t?"":"table"===t?"return (\n  <Table\n    pagination={false}\n    columns={resultSet.tableColumns(pivotConfig)}\n    dataSource={resultSet.tablePivot(pivotConfig)}\n  />\n);\n":void 0}function g(){return"const stackedChartData = (resultSet) => {\n  const data = resultSet\n    .pivot()\n    .map(({ xValues, yValuesArray }) =>\n      yValuesArray.map(([yValues, m]) => ({\n        x: resultSet.axisValuesString(xValues, ', '),\n        color: resultSet.axisValuesString(yValues, ', '),\n        measure: m && Number.parseFloat(m),\n      }))\n    )\n    .reduce((a, b) => a.concat(b), []);\n  return data;\n};\n"}function y(){return h}var C=["import React from 'react';","import { CartesianGrid, PieChart, Pie, Cell, AreaChart, Area, XAxis, YAxis, Tooltip, ResponsiveContainer, Legend, BarChart, Bar, LineChart, Line } from 'recharts';","import { Row, Col, Statistic, Table } from 'antd';"];function x(t){return"line"===t?'return (\n  <CartesianChart resultSet={resultSet} ChartComponent={LineChart}>\n    {resultSet.seriesNames().map((series, i) => (\n      <Line\n        key={series.key}\n        stackId="a"\n        dataKey={series.key}\n        name={series.title}\n        stroke={colors[i]}\n      />\n    ))}\n  </CartesianChart>\n);\n':"bar"===t?'return (\n  <CartesianChart resultSet={resultSet} ChartComponent={BarChart}>\n    {resultSet.seriesNames().map((series, i) => (\n      <Bar\n        key={series.key}\n        stackId="a"\n        dataKey={series.key}\n        name={series.title}\n        fill={colors[i]}\n      />\n    ))}\n  </CartesianChart>\n);\n':"area"===t?'return (\n  <CartesianChart resultSet={resultSet} ChartComponent={AreaChart}>\n    {resultSet.seriesNames().map((series, i) => (\n      <Area\n        key={series.key}\n        stackId="a"\n        dataKey={series.key}\n        name={series.title}\n        stroke={colors[i]}\n        fill={colors[i]}\n      />\n    ))}\n  </CartesianChart>\n);\n':"pie"===t?'return (\n  <ResponsiveContainer width="100%" height={350}>\n    <PieChart>\n      <Pie\n        isAnimationActive={false}\n        data={resultSet.chartPivot()}\n        nameKey="x"\n        dataKey={resultSet.seriesNames()[0].key}\n        fill="#8884d8"\n      >\n        {resultSet.chartPivot().map((e, index) => (\n          <Cell key={index} fill={colors[index % colors.length]} />\n        ))}\n      </Pie>\n      <Legend />\n      <Tooltip />\n    </PieChart>\n  </ResponsiveContainer>\n);\n':"number"===t?'return (\n  <Row\n    type="flex"\n    justify="center"\n    align="middle"\n    style={{\n      height: \'100%\',\n    }}\n  >\n    <Col>\n      {resultSet.seriesNames().map((s) => (\n        <Statistic value={resultSet.totalRow()[s.key]} />\n      ))}\n    </Col>\n  </Row>\n);\n':"height"===t?"":"table"===t?"return (\n  <Table\n    pagination={false}\n    columns={resultSet.tableColumns(pivotConfig)}\n    dataSource={resultSet.tablePivot(pivotConfig)}\n  />\n);\n":void 0}function j(){return"const CartesianChart = ({ resultSet, children, ChartComponent }) => (\n  <ResponsiveContainer width=\"100%\" height={350}>\n    <ChartComponent data={resultSet.chartPivot()}>\n      <XAxis dataKey=\"x\" />\n      <YAxis />\n      <CartesianGrid />\n      {children}\n      <Legend />\n      <Tooltip />\n    </ChartComponent>\n  </ResponsiveContainer>\n);\n\nconst colors = ['#FF6492', '#141446', '#7A77FF'];\n\nconst stackedChartData = (resultSet) => {\n  const data = resultSet\n    .pivot()\n    .map(({ xValues, yValuesArray }) =>\n      yValuesArray.map(([yValues, m]) => ({\n        x: resultSet.axisValuesString(xValues, ', '),\n        color: resultSet.axisValuesString(yValues, ', '),\n        measure: m && Number.parseFloat(m),\n      }))\n    )\n    .reduce((a, b) => a.concat(b), []);\n  return data;\n};\n"}function v(){return C}var S=["import React from 'react';","import { Line, Bar, Pie } from 'react-chartjs-2';","import { Row, Col, Statistic, Table } from 'antd';"];function O(t){return"line"===t?"const data = {\n  labels: resultSet.categories().map((c) => c.category),\n  datasets: resultSet.series().map((s, index) => ({\n    label: s.title,\n    data: s.series.map((r) => r.value),\n    borderColor: COLORS_SERIES[index],\n    fill: false,\n  })),\n};\nconst options = { ...commonOptions };\nreturn <Line data={data} options={options} />;\n":"labels"===t||"datasets"===t||"label"===t||"data"===t||"borderColor"===t||"fill"===t?"":"bar"===t?"const data = {\n  labels: resultSet.categories().map((c) => c.category),\n  datasets: resultSet.series().map((s, index) => ({\n    label: s.title,\n    data: s.series.map((r) => r.value),\n    backgroundColor: COLORS_SERIES[index],\n    fill: false,\n  })),\n};\nconst options = {\n  ...commonOptions,\n  scales: {\n    xAxes: [\n      {\n        stacked: true,\n      },\n    ],\n  },\n};\nreturn <Bar data={data} options={options} />;\n":"labels"===t||"datasets"===t||"label"===t||"data"===t||"backgroundColor"===t||"fill"===t||"scales"===t||"xAxes"===t||"stacked"===t?"":"area"===t?"const data = {\n  labels: resultSet.categories().map((c) => c.category),\n  datasets: resultSet.series().map((s, index) => ({\n    label: s.title,\n    data: s.series.map((r) => r.value),\n    backgroundColor: COLORS_SERIES[index],\n  })),\n};\nconst options = {\n  ...commonOptions,\n  scales: {\n    yAxes: [\n      {\n        stacked: true,\n      },\n    ],\n  },\n};\nreturn <Line data={data} options={options} />;\n":"labels"===t||"datasets"===t||"label"===t||"data"===t||"backgroundColor"===t||"scales"===t||"yAxes"===t||"stacked"===t?"":"pie"===t?"const data = {\n  labels: resultSet.categories().map((c) => c.category),\n  datasets: resultSet.series().map((s) => ({\n    label: s.title,\n    data: s.series.map((r) => r.value),\n    backgroundColor: COLORS_SERIES,\n    hoverBackgroundColor: COLORS_SERIES,\n  })),\n};\nconst options = { ...commonOptions };\nreturn <Pie data={data} options={options} />;\n":"labels"===t||"datasets"===t||"label"===t||"data"===t||"backgroundColor"===t||"hoverBackgroundColor"===t?"":"number"===t?'return (\n  <Row\n    type="flex"\n    justify="center"\n    align="middle"\n    style={{\n      height: \'100%\',\n    }}\n  >\n    <Col>\n      {resultSet.seriesNames().map((s) => (\n        <Statistic value={resultSet.totalRow()[s.key]} />\n      ))}\n    </Col>\n  </Row>\n);\n':"height"===t?"":"table"===t?"return (\n  <Table\n    pagination={false}\n    columns={resultSet.tableColumns(pivotConfig)}\n    dataSource={resultSet.tablePivot(pivotConfig)}\n  />\n);\n":void 0}function k(){return"const COLORS_SERIES = ['#FF6492', '#141446', '#7A77FF'];\nconst commonOptions = {\n  maintainAspectRatio: false,\n};\n"}function A(){return S}var w=["import React from 'react';","import * as d3 from 'd3';","import { Row, Col, Statistic, Table } from 'antd';"];function R(t){return"line"===t?'return <D3Chart type="line" {...props} />;\n':"bar"===t?'return <D3Chart type="bar" {...props} />;\n':"area"===t?'return <D3Chart type="area" {...props} />;\n':"pie"===t?'return <D3Chart type="pie" {...props} />;\n':"number"===t?'return (\n  <Row\n    type="flex"\n    justify="center"\n    align="middle"\n    style={{\n      height: \'100%\',\n    }}\n  >\n    <Col>\n      {resultSet.seriesNames().map((s) => (\n        <Statistic value={resultSet.totalRow()[s.key]} />\n      ))}\n    </Col>\n  </Row>\n);\n':"height"===t?"":"table"===t?"return (\n  <Table\n    pagination={false}\n    columns={resultSet.tableColumns(pivotConfig)}\n    dataSource={resultSet.tablePivot(pivotConfig)}\n  />\n);\n":void 0}function F(){return"const COLORS_SERIES = [\n  '#7A77FF',\n  '#141446',\n  '#FF6492',\n  '#727290',\n  '#43436B',\n  '#BEF3BE',\n  '#68B68C',\n  '#FFE7AA',\n  '#B2A58D',\n  '#64C8E0',\n];\nconst CHART_HEIGHT = 300;\n\nconst drawPieChart = (node, resultSet, options) => {\n  const data = resultSet.series()[0].series.map((s) => s.value);\n  const data_ready = d3.pie()(data);\n  d3.select(node).html(''); // The radius of the pieplot is half the width or half the height (smallest one).\n\n  const radius = CHART_HEIGHT / 2 - 40; // Seprate container to center align pie chart\n\n  const svg = d3\n    .select(node)\n    .append('svg')\n    .attr('width', node.clientWidth)\n    .attr('height', CHART_HEIGHT)\n    .append('g')\n    .attr(\n      'transform',\n      'translate(' + node.clientWidth / 2 + ',' + CHART_HEIGHT / 2 + ')'\n    );\n  svg\n    .selectAll('pieArcs')\n    .data(data_ready)\n    .enter()\n    .append('path')\n    .attr('d', d3.arc().innerRadius(0).outerRadius(radius))\n    .attr('fill', (d) => COLORS_SERIES[d.index]);\n  const size = 12;\n  const labels = resultSet.series()[0].series.map((s) => s.x);\n  svg\n    .selectAll('myrect')\n    .data(labels)\n    .enter()\n    .append('rect')\n    .attr('x', 150)\n    .attr('y', function (d, i) {\n      return -50 + i * (size + 5);\n    })\n    .attr('width', size)\n    .attr('height', size)\n    .style('fill', (d, i) => COLORS_SERIES[i]);\n  svg\n    .selectAll('mylabels')\n    .data(labels)\n    .enter()\n    .append('text')\n    .attr('x', 150 + size * 1.2)\n    .attr('y', function (d, i) {\n      return -50 + i * (size + 5) + size / 2;\n    })\n    .text(function (d) {\n      return d;\n    })\n    .attr('text-anchor', 'left')\n    .attr('font-size', '12px')\n    .style('alignment-baseline', 'middle');\n};\n\nconst drawChart = (node, resultSet, chartType, options = {}) => {\n  if (chartType === 'pie') {\n    return drawPieChart(node, resultSet, options);\n  }\n\n  const margin = {\n      top: 10,\n      right: 30,\n      bottom: 30,\n      left: 60,\n    },\n    width = node.clientWidth - margin.left - margin.right,\n    height = CHART_HEIGHT - margin.top - margin.bottom;\n  d3.select(node).html('');\n  const svg = d3\n    .select(node)\n    .append('svg')\n    .attr('width', width + margin.left + margin.right)\n    .attr('height', height + margin.top + margin.bottom)\n    .append('g')\n    .attr('transform', 'translate(' + margin.left + ',' + margin.top + ')');\n  const keys = resultSet.seriesNames(options.pivotConfig).map((s) => s.key);\n  let data, maxData;\n\n  if (chartType === 'line') {\n    data = resultSet.series(options.pivotConfig).map((series) => ({\n      key: series.key,\n      values: series.series,\n    }));\n    maxData = d3.max(data.map((s) => d3.max(s.values, (i) => i.value)));\n  } else {\n    data = d3.stack().keys(keys)(resultSet.chartPivot(options.pivotConfig));\n    maxData = d3.max(data.map((s) => d3.max(s, (i) => i[1])));\n  }\n\n  const color = d3.scaleOrdinal().domain(keys).range(COLORS_SERIES);\n  let x;\n\n  if (chartType === 'bar') {\n    x = d3\n      .scaleBand()\n      .range([0, width])\n      .domain(resultSet.chartPivot(options.pivotConfig).map((c) => c.x))\n      .padding(0.3);\n  } else {\n    x = d3\n      .scaleTime()\n      .domain(\n        d3.extent(resultSet.chartPivot(options.pivotConfig), (c) =>\n          d3.isoParse(c.x)\n        )\n      )\n      .nice()\n      .range([0, width]);\n  }\n\n  svg\n    .append('g')\n    .attr('transform', 'translate(0,' + height + ')')\n    .call(d3.axisBottom(x));\n  const y = d3.scaleLinear().domain([0, maxData]).range([height, 0]);\n  svg.append('g').call(d3.axisLeft(y));\n\n  if (chartType === 'line') {\n    svg\n      .selectAll('.line')\n      .data(data)\n      .enter()\n      .append('path')\n      .attr('fill', 'none')\n      .attr('stroke', (d) => color(d.key))\n      .attr('stroke-width', 1.5)\n      .attr('d', (d) => {\n        return d3\n          .line()\n          .x((d) => x(d3.isoParse(d.x)))\n          .y((d) => y(+d.value))(d.values);\n      });\n  } else if (chartType === 'area') {\n    svg\n      .selectAll('mylayers')\n      .data(data)\n      .enter()\n      .append('path')\n      .style('fill', (d) => color(d.key))\n      .attr(\n        'd',\n        d3\n          .area()\n          .x((d) => x(d3.isoParse(d.data.x)))\n          .y0((d) => y(d[0]))\n          .y1((d) => y(d[1]))\n      );\n  } else {\n    svg\n      .append('g')\n      .selectAll('g') // Enter in the stack data = loop key per key = group per group\n      .data(data)\n      .enter()\n      .append('g')\n      .attr('fill', (d) => color(d.key))\n      .selectAll('rect') // enter a second time = loop subgroup per subgroup to add all rectangles\n      .data((d) => d)\n      .enter()\n      .append('rect')\n      .attr('x', (d) => x(d.data.x))\n      .attr('y', (d) => y(d[1]))\n      .attr('height', (d) => y(d[0]) - y(d[1]))\n      .attr('width', x.bandwidth());\n  }\n};\n\nconst D3Chart = ({ resultSet, type, ...props }) => (\n  <div ref={(el) => el && drawChart(el, resultSet, type, props)} />\n);\n"}function P(){return w}var E={bizchartsCharts:r,rechartsCharts:a,chartjsCharts:i,d3Charts:s},T=["react-dom",["@cubejs-client/core","^0.27.26"],["@cubejs-client/react","^0.27.30"],"antd"];var L=n(12),I=function(t){var e=t.renderFunction,n=t.query,r=t.pivotConfig,a=t.refetchCounter,i=window.parent.window.__cubejsPlayground||{},s=i.onQueryStart,l=i.onQueryLoad,c=i.onQueryProgress,u=Object(m.b)(n),d=u.isLoading,p=u.error,f=u.resultSet,h=u.progress,b=u.refetch;return Object(o.useEffect)((function(){d&&"function"===typeof s&&s()}),[d]),Object(o.useEffect)((function(){a>0&&b()}),[a]),Object(o.useEffect)((function(){d||"function"!==typeof l||l({resultSet:f,error:p}),"function"===typeof c&&c(h)}),[p,d,f,h]),!f||p?null:e({resultSet:f,pivotConfig:r})},_=function(t){var e=t.renderFunction,n=t.query,r=t.pivotConfig,a=void 0===r?null:r,i=t.refetchCounter;return Object(L.jsx)(I,{renderFunction:e,query:n,pivotConfig:a,refetchCounter:i})},B=n(784),N=n(166),D=n(167),V=n(785),z=n(217),H=n(220),G=n(786),K=n(468),q=n(788),W=n(470),Q=n(789),M=n(471),U=n(793),J=n(472),X=n(263),Y=n(794),Z=n(796),$=n(791),tt=n(790),et=function(t){var e=t.resultSet,n=t.children,r=t.ChartComponent;return Object(L.jsx)(B.a,{width:"100%",height:350,children:Object(L.jsxs)(r,{data:e.chartPivot(),children:[Object(L.jsx)(N.a,{dataKey:"x"}),Object(L.jsx)(D.a,{}),Object(L.jsx)(V.a,{}),n,Object(L.jsx)(z.a,{}),Object(L.jsx)(H.a,{})]})})},nt=["#FF6492","#141446","#7A77FF"],rt={line:function(t){var e=t.resultSet;return Object(L.jsx)(et,{resultSet:e,ChartComponent:G.a,children:e.seriesNames().map((function(t,e){return Object(L.jsx)(K.a,{stackId:"a",dataKey:t.key,name:t.title,stroke:nt[e]},t.key)}))})},bar:function(t){var e=t.resultSet;return Object(L.jsx)(et,{resultSet:e,ChartComponent:q.a,children:e.seriesNames().map((function(t,e){return Object(L.jsx)(W.a,{stackId:"a",dataKey:t.key,name:t.title,fill:nt[e]},t.key)}))})},area:function(t){var e=t.resultSet;return Object(L.jsx)(et,{resultSet:e,ChartComponent:Q.a,children:e.seriesNames().map((function(t,e){return Object(L.jsx)(M.a,{stackId:"a",dataKey:t.key,name:t.title,stroke:nt[e],fill:nt[e]},t.key)}))})},pie:function(t){var e=t.resultSet;return Object(L.jsx)(B.a,{width:"100%",height:350,children:Object(L.jsxs)(U.a,{children:[Object(L.jsx)(J.a,{isAnimationActive:!1,data:e.chartPivot(),nameKey:"x",dataKey:e.seriesNames()[0].key,fill:"#8884d8",children:e.chartPivot().map((function(t,e){return Object(L.jsx)(X.a,{fill:nt[e%nt.length]},e)}))}),Object(L.jsx)(z.a,{}),Object(L.jsx)(H.a,{})]})})},number:function(t){var e=t.resultSet;return Object(L.jsx)(Y.a,{type:"flex",justify:"center",align:"middle",style:{height:"100%"},children:Object(L.jsx)(Z.a,{children:e.seriesNames().map((function(t){return Object(L.jsx)($.a,{value:e.totalRow()[t.key]})}))})})},table:function(t){var e=t.resultSet,n=t.pivotConfig;return Object(L.jsx)(tt.a,{pagination:!1,columns:e.tableColumns(n),dataSource:e.tablePivot(n)})}},at=n(88),it=n(219),st=["#FF6492","#141446","#7A77FF"],ot={maintainAspectRatio:!1},lt={line:function(t){var e=t.resultSet,n={labels:e.categories().map((function(t){return t.category})),datasets:e.series().map((function(t,e){return{label:t.title,data:t.series.map((function(t){return t.value})),borderColor:st[e],fill:!1}}))},r=Object(at.a)({},ot);return Object(L.jsx)(it.Line,{data:n,options:r})},bar:function(t){var e=t.resultSet,n={labels:e.categories().map((function(t){return t.category})),datasets:e.series().map((function(t,e){return{label:t.title,data:t.series.map((function(t){return t.value})),backgroundColor:st[e],fill:!1}}))},r=Object(at.a)(Object(at.a)({},ot),{},{scales:{xAxes:[{stacked:!0}]}});return Object(L.jsx)(it.Bar,{data:n,options:r})},area:function(t){var e=t.resultSet,n={labels:e.categories().map((function(t){return t.category})),datasets:e.series().map((function(t,e){return{label:t.title,data:t.series.map((function(t){return t.value})),backgroundColor:st[e]}}))},r=Object(at.a)(Object(at.a)({},ot),{},{scales:{yAxes:[{stacked:!0}]}});return Object(L.jsx)(it.Line,{data:n,options:r})},pie:function(t){var e=t.resultSet,n={labels:e.categories().map((function(t){return t.category})),datasets:e.series().map((function(t){return{label:t.title,data:t.series.map((function(t){return t.value})),backgroundColor:st,hoverBackgroundColor:st}}))},r=Object(at.a)({},ot);return Object(L.jsx)(it.Pie,{data:n,options:r})},number:function(t){var e=t.resultSet;return Object(L.jsx)(Y.a,{type:"flex",justify:"center",align:"middle",style:{height:"100%"},children:Object(L.jsx)(Z.a,{children:e.seriesNames().map((function(t){return Object(L.jsx)($.a,{value:e.totalRow()[t.key]})}))})})},table:function(t){var e=t.resultSet,n=t.pivotConfig;return Object(L.jsx)(tt.a,{pagination:!1,columns:e.tableColumns(n),dataSource:e.tablePivot(n)})}},ct=n(58),ut=function(t){return t.pivot().map((function(e){var n=e.xValues;return e.yValuesArray.map((function(e){var r=Object(d.a)(e,2),a=r[0],i=r[1];return{x:t.axisValuesString(n,", "),color:t.axisValuesString(a,", "),measure:i&&Number.parseFloat(i)}}))})).reduce((function(t,e){return t.concat(e)}),[])},dt={line:function(t){var e=t.resultSet;return Object(L.jsxs)(ct.Chart,{scale:{x:{tickCount:8}},autoFit:!0,height:400,data:ut(e),forceFit:!0,children:[Object(L.jsx)(ct.Axis,{name:"x"}),Object(L.jsx)(ct.Axis,{name:"measure"}),Object(L.jsx)(ct.Tooltip,{crosshairs:{type:"y"}}),Object(L.jsx)(ct.Geom,{type:"line",position:"x*measure",size:2,color:"color"})]})},bar:function(t){var e=t.resultSet;return Object(L.jsxs)(ct.Chart,{scale:{x:{tickCount:8}},autoFit:!0,height:400,data:ut(e),forceFit:!0,children:[Object(L.jsx)(ct.Axis,{name:"x"}),Object(L.jsx)(ct.Axis,{name:"measure"}),Object(L.jsx)(ct.Tooltip,{}),Object(L.jsx)(ct.Geom,{type:"interval",position:"x*measure",color:"color"})]})},area:function(t){var e=t.resultSet;return Object(L.jsxs)(ct.Chart,{scale:{x:{tickCount:8}},autoFit:!0,height:400,data:ut(e),forceFit:!0,children:[Object(L.jsx)(ct.Axis,{name:"x"}),Object(L.jsx)(ct.Axis,{name:"measure"}),Object(L.jsx)(ct.Tooltip,{crosshairs:{type:"y"}}),Object(L.jsx)(ct.Geom,{type:"area",adjust:"stack",position:"x*measure",size:2,color:"color"})]})},pie:function(t){var e=t.resultSet;return Object(L.jsx)(ct.PieChart,{data:e.chartPivot(),radius:.8,angleField:e.series()[0].key,colorField:"x",label:{visible:!0,offset:20},legend:{position:"bottom"}})},number:function(t){var e=t.resultSet;return Object(L.jsx)(Y.a,{type:"flex",justify:"center",align:"middle",style:{height:"100%"},children:Object(L.jsx)(Z.a,{children:e.seriesNames().map((function(t){return Object(L.jsx)($.a,{value:e.totalRow()[t.key]})}))})})},table:function(t){var e=t.resultSet,n=t.pivotConfig;return Object(L.jsx)(tt.a,{pagination:!1,columns:e.tableColumns(n),dataSource:e.tablePivot(n)})}},pt=n(492),mt=n(49),ft=["resultSet","type"],ht=["#7A77FF","#141446","#FF6492","#727290","#43436B","#BEF3BE","#68B68C","#FFE7AA","#B2A58D","#64C8E0"],bt=300,gt=function(t,e,n){var r=e.series()[0].series.map((function(t){return t.value})),a=mt.i()(r);mt.n(t).html("");var i=mt.n(t).append("svg").attr("width",t.clientWidth).attr("height",bt).append("g").attr("transform","translate("+t.clientWidth/2+",150)");i.selectAll("pieArcs").data(a).enter().append("path").attr("d",mt.a().innerRadius(0).outerRadius(110)).attr("fill",(function(t){return ht[t.index]}));var s=12,o=e.series()[0].series.map((function(t){return t.x}));i.selectAll("myrect").data(o).enter().append("rect").attr("x",150).attr("y",(function(t,e){return 17*e-50})).attr("width",s).attr("height",s).style("fill",(function(t,e){return ht[e]})),i.selectAll("mylabels").data(o).enter().append("text").attr("x",164.4).attr("y",(function(t,e){return 17*e-50+6})).text((function(t){return t})).attr("text-anchor","left").attr("font-size","12px").style("alignment-baseline","middle")},yt=function(t){var e=t.resultSet,n=t.type,r=Object(pt.a)(t,ft);return Object(L.jsx)("div",{ref:function(t){return t&&function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if("pie"===n)return gt(t,e);var a={top:10,right:30,bottom:30,left:60},i=t.clientWidth-a.left-a.right,s=bt-a.top-a.bottom;mt.n(t).html("");var o,l,c=mt.n(t).append("svg").attr("width",i+a.left+a.right).attr("height",s+a.top+a.bottom).append("g").attr("transform","translate("+a.left+","+a.top+")"),u=e.seriesNames(r.pivotConfig).map((function(t){return t.key}));"line"===n?(o=e.series(r.pivotConfig).map((function(t){return{key:t.key,values:t.series}})),l=mt.h(o.map((function(t){return mt.h(t.values,(function(t){return t.value}))})))):(o=mt.o().keys(u)(e.chartPivot(r.pivotConfig)),l=mt.h(o.map((function(t){return mt.h(t,(function(t){return t[1]}))}))));var d,p=mt.l().domain(u).range(ht);d="bar"===n?mt.j().range([0,i]).domain(e.chartPivot(r.pivotConfig).map((function(t){return t.x}))).padding(.3):mt.m().domain(mt.e(e.chartPivot(r.pivotConfig),(function(t){return mt.f(t.x)}))).nice().range([0,i]),c.append("g").attr("transform","translate(0,"+s+")").call(mt.c(d));var m=mt.k().domain([0,l]).range([s,0]);c.append("g").call(mt.d(m)),"line"===n?c.selectAll(".line").data(o).enter().append("path").attr("fill","none").attr("stroke",(function(t){return p(t.key)})).attr("stroke-width",1.5).attr("d",(function(t){return mt.g().x((function(t){return d(mt.f(t.x))})).y((function(t){return m(+t.value)}))(t.values)})):"area"===n?c.selectAll("mylayers").data(o).enter().append("path").style("fill",(function(t){return p(t.key)})).attr("d",mt.b().x((function(t){return d(mt.f(t.data.x))})).y0((function(t){return m(t[0])})).y1((function(t){return m(t[1])}))):c.append("g").selectAll("g").data(o).enter().append("g").attr("fill",(function(t){return p(t.key)})).selectAll("rect").data((function(t){return t})).enter().append("rect").attr("x",(function(t){return d(t.data.x)})).attr("y",(function(t){return m(t[1])})).attr("height",(function(t){return m(t[0])-m(t[1])})).attr("width",d.bandwidth())}(t,e,n,r)}})},Ct={line:function(t){return Object(L.jsx)(yt,Object(at.a)({type:"line"},t))},bar:function(t){return Object(L.jsx)(yt,Object(at.a)({type:"bar"},t))},area:function(t){return Object(L.jsx)(yt,Object(at.a)({type:"area"},t))},pie:function(t){return Object(L.jsx)(yt,Object(at.a)({type:"pie"},t))},number:function(t){var e=t.resultSet;return Object(L.jsx)(Y.a,{type:"flex",justify:"center",align:"middle",style:{height:"100%"},children:Object(L.jsx)(Z.a,{children:e.seriesNames().map((function(t){return Object(L.jsx)($.a,{value:e.totalRow()[t.key]})}))})})},table:function(t){var e=t.resultSet,n=t.pivotConfig;return Object(L.jsx)(tt.a,{pagination:!1,columns:e.tableColumns(n),dataSource:e.tablePivot(n)})}};window.__cubejsPlayground={getCodesandboxFiles:function(t,e){var n=e.query,r=e.pivotConfig,a=e.chartType,i=e.cubejsToken,s=e.apiUrl,o=E["".concat(t,"Charts")],l=o.getCommon,c=o.getImports,u=o.getChartComponent;return{"index.js":"import ReactDOM from 'react-dom';\nimport cubejs from '@cubejs-client/core';\nimport { QueryRenderer } from '@cubejs-client/react';\nimport { Spin } from 'antd';\nimport 'antd/dist/antd.css';\n".concat(c().join("\n"),"\n\n").concat(l(),"\n\nconst cubejsApi = cubejs(\n  '").concat(i,"',\n  { apiUrl: '").concat(s,"' }\n);\n\nconst renderChart = ({ resultSet, error, pivotConfig }) => {\n  if (error) {\n    return <div>{error.toString()}</div>;\n  }\n\n  if (!resultSet) {\n    return <Spin />;\n  }\n\n  ").concat(u(a),"\n};\n\nconst ChartRenderer = () => {\n  return (\n    <QueryRenderer\n      query={").concat(n,"}\n      cubejsApi={cubejsApi}\n      resetResultSetOnChange={false}\n      render={(props) => renderChart({\n        ...props,\n        chartType: '").concat(a,"',\n        pivotConfig: ").concat(r,"\n      })}\n    />\n  );\n};\n\nconst rootElement = document.getElementById('root');\nReactDOM.render(<ChartRenderer />, rootElement);\n      ")}},getDependencies:function(t){if(!t)throw new Error("`chartingLibrary` param is undefined");var e=E["".concat(t,"Charts")].getImports;return[].concat(T,Object(f.a)(e().map((function(t){var e=t.match(/['"]([^'"]+)['"]/);return Object(d.a)(e,2)[1]}))))}};var xt={recharts:rt,chartjs:lt,bizcharts:dt,d3:Ct},jt=function(){var t,e=Object(o.useState)(null),n=Object(d.a)(e,2),r=n[0],a=n[1],i=Object(o.useState)(null),s=Object(d.a)(i,2),l=s[0],c=s[1],u=Object(o.useState)(null),f=Object(d.a)(u,2),h=f[0],b=f[1],g=Object(o.useState)(null),y=Object(d.a)(g,2),C=y[0],x=y[1],j=Object(o.useState)(0),v=Object(d.a)(j,2),S=v[0],O=v[1],k=Object(o.useState)(0),A=Object(d.a)(k,2),w=A[0],R=A[1],F=Object(o.useMemo)((function(){var t=window.parent.window.__cubejsPlayground||{};return Object(p.c)(t.token,{apiUrl:t.apiUrl})}),[S]);return Object(o.useEffect)((function(){var t=(window.parent.window.__cubejsPlayground||{}).onChartRendererReady;"function"===typeof t&&t()}),[]),Object(o.useLayoutEffect)((function(){window.addEventListener("__cubejsPlaygroundEvent",(function(t){var e=t.detail,n=e.query,r=e.chartingLibrary,i=e.chartType,s=e.pivotConfig,o=e.eventType;"chart"===o?(n&&a(n),s&&c(s),r&&b(r),i&&("bizcharts"===r?(x(null),setTimeout((function(){return x(i)}),0)):x(i))):"credentials"===o?O((function(t){return t+1})):"refetch"===o&&R((function(t){return t+1}))}))}),[]),Object(L.jsx)(m.a,{cubejsApi:F,children:Object(L.jsx)("div",{className:"App",children:(null===(t=xt[h])||void 0===t?void 0:t[C])?Object(L.jsx)(_,{renderFunction:xt[h][C],query:r,pivotConfig:l,refetchCounter:w}):null})})},vt=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,798)).then((function(e){var n=e.getCLS,r=e.getFID,a=e.getFCP,i=e.getLCP,s=e.getTTFB;n(t),r(t),a(t),i(t),s(t)}))};u.a.render(Object(L.jsx)(l.a.StrictMode,{children:Object(L.jsx)(jt,{})}),document.getElementById("root")),vt()}},[[775,1,2]]]);
//# sourceMappingURL=main.8a0fe4e3.chunk.js.map
