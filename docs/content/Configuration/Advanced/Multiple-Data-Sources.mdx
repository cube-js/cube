---
title: Multiple data sources
permalink: /config/multiple-data-sources
category: Configuration
subCategory: Advanced
menuOrder: 2
---

Cube supports connecting to multiple data sources, so that different
[cubes](/schema/reference/cube) reference data from different databases.

Usually, data sources are configured **statically** (see below). However, Cube
can also lookup data sources **dynamically** which is useful in complex
scenarios involving [multitenancy][ref-config-multitenancy].

## Environment variables

Declare the list of data sources using the `CUBEJS_DATASOURCES` environment
variable, then use
[decorated environment variables](#decorated-environment-variables) to configure
each data source:

```dotenv
CUBEJS_DATASOURCES=default,datasource1
CUBEJS_DB_TYPE=postgres
CUBEJS_DB_NAME=ecom
CUBEJS_DB_HOST=localhost
CUBEJS_DS_DATASOURCE1_DB_TYPE=postgres
CUBEJS_DS_DATASOURCE1_DB_NAME=ecom
CUBEJS_DS_DATASOURCE1_DB_HOST=remotehost
```

<InfoBox>

Cube expects that the `default` data source is **always** defined. Ensure that
`CUBEJS_DB_*` environment variables are set **or** that the `default` data
source is defined using [`driverFactory`] [ref-config-ref-driverfactory] in your
`cube.js` file.

</InfoBox>

### Decorated environment variables

Cube allows database-specific environment variables to be decorated with a data
source name:

```dotenv
CUBEJS_[DS_<DATASOURCE>_]<ENV_VAR>
```

For example, using the `datasource1` data source, `CUBEJS_DB_TYPE` could be
decorated as:

```dotenv
CUBEJS_DS_DATASOURCE1_DB_TYPE=postgres
```

For more information on environment variables that support decoration, check the
[environment variables reference][ref-config-ref-env] or [database-specific
pages][ref-config-db].

## Data model

Use the [`dataSource`](/schema/reference/cube#parameters-data-source) property
to set a data source for each cube:

```javascript
cube('Orders', {
  ...,

  dataSource: 'default',
});

cube('OrdersFromOtherDataSource', {
  ...,

  dataSource: 'datasource1',
});
```

[ref-config-ref-env]: /reference/environment-variables
[ref-config-ref-driverfactory]: /config#options-reference-driver-factory
[ref-config-db]: /config/databases
[ref-config-multitenancy]:
  /config/multitenancy#multitenancy-multitenancy-vs-multiple-data-sources

## Cube Cloud

Follow these steps to connect to multiple data sources in Cube Cloud:

- Set up the `default` database connection when creating a new deployment.
- Ensure you have the correct [multitenancy](/config/multitenancy) configuration
  in your `cube.js` file.
- Configure the corresponding environment variables in&nbsp;<Btn>Settings â†’
  Environment variables</Btn>.
