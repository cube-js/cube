---
title: SQL Functions and Operators
category: SQL API
permalink: /backend/sql/reference/functions-operators
subCategory: Reference
menuOrder: 5
---

## String Functions and Operators

### Concatenation

```sql
string || string
```

The double-pipe operator (`||`) is used to concatenate strings.

### <--{"id" : "String Functions"}--> bit_length

```sql
bit_length(string)
```

Returns number of bits in the string (8 times the `octet_length`).

### <--{"id" : "String Functions"}--> char_length

```sql
char_length(string)
character_length(string)
```

Returns the number of characters in the string.

### <--{"id" : "String Functions"}--> lower

```sql
lower(string)
```

Converts `string` to all lower case.

### <--{"id" : "String Functions"}--> octet_length

```sql
octet_length(string)
```

Returns number of bytes in the string.

### <--{"id" : "String Functions"}--> substring

```sql
substring (string [ FROM start integer ] [ FOR count integer ])
```

Extracts the substring of string starting at the `start` character (if
specified), and stopping after `count` characters (if specified). Either `start`
or `count` must be specified.

### <--{"id" : "String Functions"}--> trim

```sql
trim ([ LEADING | TRAILING | BOTH ] [ characters text ] FROM string)
```

Removes the longest string containing only characters in characters (a space by
default) from the start, end, or both ends (`BOTH` is the default) of `string`.

### <--{"id" : "String Functions"}--> upper

```sql
upper(string)
```

Converts `string` to all upper case.

## Aggregation Functions

### <--{"id" : "Aggregation Functions"}--> COUNT

```sql
COUNT(col)
COUNT(*)
```

**In select from cube table** `COUNT` function is used to query measures with
type `count`. When \* is specified, queries the first measure with type `count`
for a given cube.

**Outside of select from cube table** Counts the number of rows. When \* is
specified, the count returned is the total number of rows.

### <--{"id" : "Aggregation Functions"}--> MEASURE

```sql
MEASURE(measure)
```

**In select from cube table** Special function that can be used as a wildcard
function to query measures. Can be used to query any [type of
measure][ref-schema-ref-measure-types]. Can only be used with measures.

[ref-schema-ref-measure-types]:
  /schema/reference/types-and-formats#measures-types

**Outside of select from cube table** Not supported.

### <--{"id" : "Aggregation Functions"}--> SUM

```sql
SUM(col)
```

Computes the sum of the non-null input values.

### <--{"id" : "Aggregation Functions"}--> AVG

```sql
AVG(col)
```

Computes the average (arithmetic mean) of all the non-null input values.

### <--{"id" : "Aggregation Functions"}--> MIN

```sql
MIN(col)
```

Computes the minimum of the non-null input values. Available for any numeric,
string or date/time value.

### <--{"id" : "Aggregation Functions"}--> MAX

```sql
MAX(col)
```

Computes the maximum of the non-null input values. Available for any numeric,
string or date/time value.

## Date/Time Functions

### <--{"id" : "Date/Time Functions"}--> date_trunc

## Conditional Expressions

### <--{"id" : "Conditional Expressions"}--> CASE

The SQL CASE expression is a generic conditional expression, similar to if/else
statements in other programming languages.

```sql
CASE WHEN condition THEN result
     [WHEN ...]
     [ELSE result]
END
```

**In select from cube table** `CASE` clasues are partially supported when
selecting from cube tables. We recomend
[updating your queries to use outer selects](/backend/sql#querying-fundamentals)
if you need to use them.

**Outside of select from cube table** Fully supported.

### <--{"id" : "Conditional Expressions"}--> COALESCE

The COALESCE function returns the first of its arguments that is not null. Null
is returned only if all arguments are null. It is often used to substitute a
default value for null values when data is retrieved for display.

```sql
COALESCE(value [, ...])
```

**In select from cube table** `COALESCE` function is partially supported when
selecting from cube tables. We recomend
[updating your queries to use outer selects](/backend/sql#querying-fundamentals)
if you need to use them.

**Outside of select from cube table** Fully supported.

### <--{"id" : "Conditional Expressions"}--> NULLIF

The `NULLIF` function returns a null value if value1 equals value2; otherwise it
returns value1.

```sql
NULLIF(value1, value2)
```

**In select from cube table** `NULLIF` function is partially supported when
selecting from cube tables. We recommend updating your queries
[to use outer selects](/backend/sql#querying-fundamentals) if you need to use
them.

**Outside of select from cube table** Fully supported.

## Subquery Expressions

### <--{"id" : "Subquery Expressions"}--> EXISTS

### <--{"id" : "Subquery Expressions"}--> IN

### <--{"id" : "Subquery Expressions"}--> NOT IN

## Row and Array comparisons

### <--{"id" : "Row and Array comparisons"}--> IN

```sql
expression IN (value [, ...])
```

The `IN` operator allows specifying multiple values for comparison in a `WHERE`
clause, and returns `true` if the provided expression matches **any** of the
values.

### <--{"id" : "Row and Array comparisons"}--> NOT IN

```sql
expression NOT IN (value [, ...])
```

The `NOT IN` operator is the reverse of the [`IN`
operator][self-ref-row-array-in]; it returns `true` if the provided expression
matches **none** of the values.

[self-ref-row-array-in]: #row-and-array-comparisons-in
