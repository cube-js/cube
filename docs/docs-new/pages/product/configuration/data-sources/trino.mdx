---
redirect_from:
  - /config/databases/trino
---

# Trino

## Prerequisites

- The hostname for the [Trino][trino] database server
- The username/password for the [Trino][trino] database server
- The name of the database to use within the [Trino][trino] database server

## Setup

### Manual

Add the following to a `.env` file in your Cube project:

```dotenv
CUBEJS_DB_TYPE=trino
CUBEJS_DB_HOST=my.trino.host
CUBEJS_DB_USER=trino_user
CUBEJS_DB_PASS=**********
CUBEJS_DB_PRESTO_CATALOG=my_trino_catalog
CUBEJS_DB_SCHEMA=my_trino_schema
```

## Environment Variables

| Environment Variable       | Description                                                                         | Possible Values                               | Required | [Supports multiple data sources?][ref-config-multiple-ds-decorating-env] |
| -------------------------- | ----------------------------------------------------------------------------------- | --------------------------------------------- | :------: | :----------------------------------------------------------------------: |
| `CUBEJS_DB_HOST`           | The host URL for a database                                                         | A valid database host URL                     |    ✅    |                                    ✅                                    |
| `CUBEJS_DB_PORT`           | The port for the database connection                                                | A valid port number                           |    ❌    |                                    ✅                                    |
| `CUBEJS_DB_USER`           | The username used to connect to the database                                        | A valid database username                     |    ✅    |                                    ✅                                    |
| `CUBEJS_DB_PASS`           | The password used to connect to the database                                        | A valid database password                     |    ✅    |                                    ✅                                    |
| `CUBEJS_DB_PRESTO_CATALOG` | The catalog within Presto to connect to                                             | A valid catalog name within a Presto database |    ✅    |                                    ✅                                    |
| `CUBEJS_DB_SCHEMA`         | The schema within the database to connect to                                        | A valid schema name within a Presto database  |    ✅    |                                    ✅                                    |
| `CUBEJS_DB_SSL`            | If `true`, enables SSL encryption for database connections from Cube                | `true`, `false`                               |    ❌    |                                    ✅                                    |
| `CUBEJS_CONCURRENCY`       | The number of concurrent connections each queue has to the database. Default is `2` | A valid number                                |    ❌    |                                    ❌                                    |
| `CUBEJS_DB_MAX_POOL`       | The maximum number of concurrent database connections to pool. Default is `8`       | A valid number                                |    ❌    |                                    ✅                                    |

## Pre-Aggregation Feature Support

### count_distinct_approx

Measures of type
[`count_distinct_approx`][ref-schema-ref-types-formats-countdistinctapprox] can
be used in pre-aggregations when using Trino as a source database. To learn more
about Trino support for approximate aggregate functions, [click
here][trino-docs-approx-agg-fns].

## SSL

To enable SSL-encrypted connections between Cube and Trino, set the
`CUBEJS_DB_SSL` environment variable to `true`. For more information on how to
configure custom certificates, please check out [Enable SSL Connections to the
Database][ref-recipe-enable-ssl].

[trino]: https://trino.io/
[trino-docs-approx-agg-fns]:
  https://trino.io/docs/current/functions/aggregate.html#approximate-aggregate-functions
[ref-config-multiple-ds-decorating-env]:
  /product/configuration/advanced/multiple-data-sources#configuring-data-sources-with-environment-variables-decorated-environment-variables
[ref-recipe-enable-ssl]:
  /guides/recipes/data-sources/using-ssl-connections-to-data-source
[ref-schema-ref-types-formats-countdistinctapprox]:
  /product/data-modeling/reference/types-and-formats#count-distinct-approx
