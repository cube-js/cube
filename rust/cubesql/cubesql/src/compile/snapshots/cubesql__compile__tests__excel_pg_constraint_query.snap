---
source: cubesql/src/compile/mod.rs
expression: "execute_query(\"\n                SELECT\n                    a.conname as Name,\n                    ns.nspname as Schema,\n                    mycl.relname as Table,\n                    b.conname as ReferencedKey,\n                    frns.nspname as ReferencedSchema,\n                    frcl.relname as ReferencedTable,\n                    a.oid as Oid,\n                    a.conkey as ColumnIndexes,\n                    a.confkey as ForeignColumnIndexes,\n                    a.confupdtype as UpdateActionCode,\n                    a.confdeltype as DeleteActionCode,\n                    a.confmatchtype as ForeignKeyMatchType,\n                    a.condeferrable as IsDeferrable,\n                    a.condeferred as Iscondeferred\n                FROM pg_constraint a\n                inner join pg_constraint b on (\n                    a.confrelid = b.conrelid AND\n                    a.confkey = b.conkey\n                )\n                INNER JOIN pg_namespace ns ON a.connamespace = ns.oid\n                INNER JOIN pg_class mycl ON a.conrelid = mycl.oid\n                LEFT OUTER JOIN pg_class frcl ON a.confrelid = frcl.oid\n                INNER JOIN pg_namespace frns ON frcl.relnamespace = frns.oid\n                WHERE\n                    a.contype = 'f' AND\n                    (\n                        b.contype = 'p' OR\n                        b.contype = 'u'\n                    ) AND\n                    a.oid::varchar like '%' AND\n                    a.conname like '%' AND\n                    ns.nspname like E'public' AND\n                    mycl.relname like E'KibanaSampleDataEcommerce' AND\n                    frns.nspname like '%' AND\n                    frcl.relname like '%'\n                ORDER BY 1\n                ;\n                \".to_string(),\n            DatabaseProtocol::PostgreSQL).await?"
---
++
++
++
