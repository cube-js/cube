---
source: cubesql/src/compile/mod.rs
expression: "execute_query(\"\n                SELECT *\n                    FROM (\n                        SELECT  n.nspname,\n                                c.relname,\n                                a.attname,\n                                a.atttypid,\n                                a.attnotnull or (t.typtype = 'd' AND t.typnotnull) AS attnotnull,\n                                a.atttypmod,\n                                a.attlen,\n                                t.typtypmod,\n                                row_number() OVER (partition BY a.attrelid ORDER BY a.attnum) AS attnum,\n                                NULLIF(a.attidentity, '') AS attidentity,\n                                pg_catalog.pg_get_expr(def.adbin, def.adrelid) AS adsrc,\n                                dsc.description,\n                                t.typbasetype,\n                                t.typtype\n                            FROM pg_catalog.pg_namespace n\n                            JOIN pg_catalog.pg_class c ON (c.relnamespace = n.oid)\n                            JOIN pg_catalog.pg_attribute a ON (a.attrelid=c.oid)\n                            JOIN pg_catalog.pg_type t ON (a.atttypid = t.oid)\n                            LEFT JOIN pg_catalog.pg_attrdef def ON (a.attrelid=def.adrelid AND a.attnum = def.adnum)\n                            LEFT JOIN pg_catalog.pg_description dsc ON (c.oid=dsc.objoid AND a.attnum = dsc.objsubid)\n                            LEFT JOIN pg_catalog.pg_class dc ON (dc.oid=dsc.classoid AND dc.relname='pg_class')\n                            LEFT JOIN pg_catalog.pg_namespace dn ON (dc.relnamespace=dn.oid AND dn.nspname='pg_catalog')\n                        WHERE c.relkind IN ('r', 'p', 'v', 'f', 'm') AND a.attnum > 0 AND NOT a.attisdropped AND n.nspname LIKE 'public' AND c.relname LIKE 'KibanaSampleDataEcommerce') c\n                WHERE true\n                ORDER BY nspname, c.relname, attnum;\n                \".to_string(),\n            DatabaseProtocol::PostgreSQL).await?"
---
+---------+---------------------------+--------------------+----------+------------+-----------+--------+-----------+--------+-------------+-------+-------------+-------------+---------+
| nspname | relname                   | attname            | atttypid | attnotnull | atttypmod | attlen | typtypmod | attnum | attidentity | adsrc | description | typbasetype | typtype |
+---------+---------------------------+--------------------+----------+------------+-----------+--------+-----------+--------+-------------+-------+-------------+-------------+---------+
| public  | KibanaSampleDataEcommerce | count              | 20       | true       | -1        | 8      | -1        | 1      | NULL        | NULL  | NULL        | 0           | b       |
| public  | KibanaSampleDataEcommerce | maxPrice           | 1700     | true       | -1        | -1     | -1        | 2      | NULL        | NULL  | NULL        | 0           | b       |
| public  | KibanaSampleDataEcommerce | minPrice           | 1700     | true       | -1        | -1     | -1        | 3      | NULL        | NULL  | NULL        | 0           | b       |
| public  | KibanaSampleDataEcommerce | avgPrice           | 1700     | true       | -1        | -1     | -1        | 4      | NULL        | NULL  | NULL        | 0           | b       |
| public  | KibanaSampleDataEcommerce | countDistinct      | 20       | true       | -1        | 8      | -1        | 5      | NULL        | NULL  | NULL        | 0           | b       |
| public  | KibanaSampleDataEcommerce | order_date         | 1114     | false      | -1        | 8      | -1        | 6      | NULL        | NULL  | NULL        | 0           | b       |
| public  | KibanaSampleDataEcommerce | customer_gender    | 25       | false      | -1        | -1     | -1        | 7      | NULL        | NULL  | NULL        | 0           | b       |
| public  | KibanaSampleDataEcommerce | taxful_total_price | 1700     | false      | -1        | -1     | -1        | 8      | NULL        | NULL  | NULL        | 0           | b       |
| public  | KibanaSampleDataEcommerce | has_subscription   | 16       | false      | -1        | 1      | -1        | 9      | NULL        | NULL  | NULL        | 0           | b       |
| public  | KibanaSampleDataEcommerce | is_male            | 16       | true       | -1        | 1      | -1        | 10     | NULL        | NULL  | NULL        | 0           | b       |
| public  | KibanaSampleDataEcommerce | is_female          | 16       | true       | -1        | 1      | -1        | 11     | NULL        | NULL  | NULL        | 0           | b       |
| public  | KibanaSampleDataEcommerce | __user             | 25       | false      | -1        | -1     | -1        | 12     | NULL        | NULL  | NULL        | 0           | b       |
+---------+---------------------------+--------------------+----------+------------+-----------+--------+-----------+--------+-------------+-------+-------------+-------------+---------+
