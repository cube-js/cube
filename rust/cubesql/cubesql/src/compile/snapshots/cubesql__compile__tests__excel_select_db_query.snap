---
source: cubesql/src/compile/mod.rs
expression: "execute_query(\"\n                SELECT\n                    'db' as Database,\n                    ns.nspname as Schema,\n                    relname as Name,\n                    CASE\n                        WHEN ns.nspname Like E'pg\\\\_catalog' then 'Catalog'\n                        WHEN ns.nspname Like E'information\\\\_schema' then 'Information'\n                        WHEN relkind = 'f' then 'Foreign'\n                        ELSE 'User'\n                    END as TableType,\n                    pg_get_userbyid(relowner) AS definer,\n                    rel.oid as Oid,\n                    relacl as ACL,\n                    true as HasOids,\n                    relhassubclass as HasSubtables,\n                    reltuples as RowNumber,\n                    description as Comment,\n                    relnatts as ColumnNumber,\n                    relhastriggers as TriggersNumber,\n                    conname as Constraint,\n                    conkey as ColumnConstrainsIndexes\n                FROM pg_class rel\n                INNER JOIN pg_namespace ns ON relnamespace = ns.oid\n                LEFT OUTER JOIN pg_description des ON\n                    des.objoid=rel.oid AND\n                    des.objsubid=0\n                LEFT OUTER JOIN pg_constraint c ON\n                    c.conrelid=rel.oid AND\n                    c.contype='p'\n                WHERE\n                    (\n                        (relkind = 'r') OR\n                        (relkind = 's') OR\n                        (relkind = 'f')\n                    ) AND\n                    NOT ns.nspname LIKE E'pg\\\\_temp\\\\_%%' AND\n                    NOT ns.nspname like E'pg\\\\_%' AND\n                    NOT ns.nspname like E'information\\\\_schema' AND\n                    ns.nspname::varchar like E'public' AND\n                    relname::varchar like '%' AND\n                    pg_get_userbyid(relowner)::varchar like '%'\n                ORDER BY relname\n                ;\n                \".to_string(),\n            DatabaseProtocol::PostgreSQL).await?"
---
+----------+--------+---------------------------+-----------+---------+-------+------+---------+--------------+-----------+---------+--------------+----------------+------------+-------------------------+
| Database | Schema | Name                      | TableType | definer | Oid   | ACL  | HasOids | HasSubtables | RowNumber | Comment | ColumnNumber | TriggersNumber | Constraint | ColumnConstrainsIndexes |
+----------+--------+---------------------------+-----------+---------+-------+------+---------+--------------+-----------+---------+--------------+----------------+------------+-------------------------+
| db       | public | KibanaSampleDataEcommerce | User      | ovr     | 18000 | NULL | true    | false        | -1        | NULL    | 10           | false          | NULL       | NULL                    |
| db       | public | Logs                      | User      | ovr     | 18013 | NULL | true    | false        | -1        | NULL    | 2            | false          | NULL       | NULL                    |
+----------+--------+---------------------------+-----------+---------+-------+------+---------+--------------+-----------+---------+--------------+----------------+------------+-------------------------+
