---
source: cubesql/src/compile/mod.rs
expression: "execute_query(\"select\n                    n.nspname,\n                    c.relname,\n                    a.attname,\n                    a.atttypid,\n                    t.typname,\n                    a.attnum,\n                    a.attlen,\n                    a.atttypmod,\n                    a.attnotnull,\n                    c.relhasrules,\n                    c.relkind,\n                    c.oid,\n                    pg_get_expr(d.adbin, d.adrelid),\n                    case\n                        t.typtype\n                        when 'd' then t.typbasetype\n                        else 0\n                    end,\n                    t.typtypmod,\n                    c.relhasoids\n                from\n                    (\n                        (\n                            (\n                                pg_catalog.pg_class c\n                                inner join pg_catalog.pg_namespace n on n.oid = c.relnamespace\n                                and c.oid = 18000\n                            )\n                            inner join pg_catalog.pg_attribute a on (not a.attisdropped)\n                            and a.attnum > 0\n                            and a.attrelid = c.oid\n                        )\n                        inner join pg_catalog.pg_type t on t.oid = a.atttypid\n                    )\n                    /* Attention, We have hack for on a.atthasdef */\n                    left outer join pg_attrdef d on a.atthasdef and d.adrelid = a.attrelid and d.adnum = a.attnum\n                order by\n                    n.nspname,\n                    c.relname,\n                    attnum;\".to_string(),\n            DatabaseProtocol::PostgreSQL).await?"
---
+---------+---------------------------+--------------------+----------+-----------+--------+--------+-----------+------------+-------------+---------+-------+--------------------------------+--------------------------------------------------------------------+-----------+------------+
| nspname | relname                   | attname            | atttypid | typname   | attnum | attlen | atttypmod | attnotnull | relhasrules | relkind | oid   | pg_get_expr(d.adbin,d.adrelid) | CASE t.typtype WHEN Utf8("d") THEN t.typbasetype ELSE Int64(0) END | typtypmod | relhasoids |
+---------+---------------------------+--------------------+----------+-----------+--------+--------+-----------+------------+-------------+---------+-------+--------------------------------+--------------------------------------------------------------------+-----------+------------+
| public  | KibanaSampleDataEcommerce | count              | 20       | int8      | 1      | 8      | -1        | true       | false       | r       | 18000 | NULL                           | 0                                                                  | -1        | false      |
| public  | KibanaSampleDataEcommerce | maxPrice           | 1700     | numeric   | 2      | -1     | -1        | true       | false       | r       | 18000 | NULL                           | 0                                                                  | -1        | false      |
| public  | KibanaSampleDataEcommerce | minPrice           | 1700     | numeric   | 3      | -1     | -1        | true       | false       | r       | 18000 | NULL                           | 0                                                                  | -1        | false      |
| public  | KibanaSampleDataEcommerce | avgPrice           | 1700     | numeric   | 4      | -1     | -1        | true       | false       | r       | 18000 | NULL                           | 0                                                                  | -1        | false      |
| public  | KibanaSampleDataEcommerce | countDistinct      | 20       | int8      | 5      | 8      | -1        | true       | false       | r       | 18000 | NULL                           | 0                                                                  | -1        | false      |
| public  | KibanaSampleDataEcommerce | order_date         | 1114     | timestamp | 6      | 8      | -1        | false      | false       | r       | 18000 | NULL                           | 0                                                                  | -1        | false      |
| public  | KibanaSampleDataEcommerce | customer_gender    | 25       | text      | 7      | -1     | -1        | false      | false       | r       | 18000 | NULL                           | 0                                                                  | -1        | false      |
| public  | KibanaSampleDataEcommerce | taxful_total_price | 1700     | numeric   | 8      | -1     | -1        | false      | false       | r       | 18000 | NULL                           | 0                                                                  | -1        | false      |
| public  | KibanaSampleDataEcommerce | has_subscription   | 16       | bool      | 9      | 1      | -1        | false      | false       | r       | 18000 | NULL                           | 0                                                                  | -1        | false      |
| public  | KibanaSampleDataEcommerce | is_male            | 16       | bool      | 10     | 1      | -1        | true       | false       | r       | 18000 | NULL                           | 0                                                                  | -1        | false      |
| public  | KibanaSampleDataEcommerce | is_female          | 16       | bool      | 11     | 1      | -1        | true       | false       | r       | 18000 | NULL                           | 0                                                                  | -1        | false      |
| public  | KibanaSampleDataEcommerce | __user             | 25       | text      | 12     | -1     | -1        | false      | false       | r       | 18000 | NULL                           | 0                                                                  | -1        | false      |
+---------+---------------------------+--------------------+----------+-----------+--------+--------+-----------+------------+-------------+---------+-------+--------------------------------+--------------------------------------------------------------------+-----------+------------+
