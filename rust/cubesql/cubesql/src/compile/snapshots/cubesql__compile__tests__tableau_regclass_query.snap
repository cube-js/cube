---
source: cubesql/src/compile/mod.rs
expression: "execute_query(\"SELECT NULL          AS TABLE_CAT,\n                n.nspname     AS TABLE_SCHEM,\n                c.relname     AS TABLE_NAME,\n                CASE n.nspname ~ '^pg_'\n                      OR n.nspname = 'information_schema'\n                  WHEN true THEN\n                    CASE\n                      WHEN n.nspname = 'pg_catalog'\n                            OR n.nspname = 'information_schema' THEN\n                        CASE c.relkind\n                          WHEN 'r' THEN 'SYSTEM TABLE'\n                          WHEN 'v' THEN 'SYSTEM VIEW'\n                          WHEN 'i' THEN 'SYSTEM INDEX'\n                          ELSE NULL\n                        end\n                      WHEN n.nspname = 'pg_toast' THEN\n                        CASE c.relkind\n                          WHEN 'r' THEN 'SYSTEM TOAST TABLE'\n                          WHEN 'i' THEN 'SYSTEM TOAST INDEX'\n                          ELSE NULL\n                        end\n                      ELSE\n                        CASE c.relkind\n                          WHEN 'r' THEN 'TEMPORARY TABLE'\n                          WHEN 'p' THEN 'TEMPORARY TABLE'\n                          WHEN 'i' THEN 'TEMPORARY INDEX'\n                          WHEN 'S' THEN 'TEMPORARY SEQUENCE'\n                          WHEN 'v' THEN 'TEMPORARY VIEW'\n                          ELSE NULL\n                        end\n                    end\n                  WHEN false THEN\n                    CASE c.relkind\n                      WHEN 'r' THEN 'TABLE'\n                      WHEN 'p' THEN 'PARTITIONED TABLE'\n                      WHEN 'i' THEN 'INDEX'\n                      WHEN 'P' THEN 'PARTITIONED INDEX'\n                      WHEN 'S' THEN 'SEQUENCE'\n                      WHEN 'v' THEN 'VIEW'\n                      WHEN 'c' THEN 'TYPE'\n                      WHEN 'f' THEN 'FOREIGN TABLE'\n                      WHEN 'm' THEN 'MATERIALIZED VIEW'\n                      ELSE NULL\n                    end\n                  ELSE NULL\n                end           AS TABLE_TYPE,\n                d.description AS REMARKS,\n                ''            AS TYPE_CAT,\n                ''            AS TYPE_SCHEM,\n                ''            AS TYPE_NAME,\n                ''            AS SELF_REFERENCING_COL_NAME,\n                ''            AS REF_GENERATION\n            FROM   pg_catalog.pg_namespace n,\n                pg_catalog.pg_class c\n                LEFT JOIN pg_catalog.pg_description d\n                       ON ( c.oid = d.objoid\n                            AND d.objsubid = 0\n                            AND d.classoid = 'pg_class' :: regclass )\n            WHERE  c.relnamespace = n.oid\n                AND ( false\n                       OR ( c.relkind = 'f' )\n                       OR ( c.relkind = 'm' )\n                       OR ( c.relkind = 'p'\n                            AND n.nspname !~ '^pg_'\n                            AND n.nspname <> 'information_schema' )\n                       OR ( c.relkind = 'r'\n                            AND n.nspname !~ '^pg_'\n                            AND n.nspname <> 'information_schema' )\n                       OR ( c.relkind = 'v'\n                            AND n.nspname <> 'pg_catalog'\n                            AND n.nspname <> 'information_schema' ) )\n            ORDER BY TABLE_SCHEM ASC, TABLE_NAME ASC\n            ;\".to_string(),\n            DatabaseProtocol::PostgreSQL).await?"
---
+-----------+-------------+---------------------------+------------+---------+----------+------------+-----------+---------------------------+----------------+
| TABLE_CAT | TABLE_SCHEM | TABLE_NAME                | TABLE_TYPE | REMARKS | TYPE_CAT | TYPE_SCHEM | TYPE_NAME | SELF_REFERENCING_COL_NAME | REF_GENERATION |
+-----------+-------------+---------------------------+------------+---------+----------+------------+-----------+---------------------------+----------------+
| NULL      | public      | KibanaSampleDataEcommerce | TABLE      | NULL    |          |            |           |                           |                |
| NULL      | public      | Logs                      | TABLE      | NULL    |          |            |           |                           |                |
| NULL      | public      | NumberCube                | TABLE      | NULL    |          |            |           |                           |                |
+-----------+-------------+---------------------------+------------+---------+----------+------------+-----------+---------------------------+----------------+
